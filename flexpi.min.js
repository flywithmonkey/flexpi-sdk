flex={api_url:"http://api.flexpi.com:3001/"};flex.loader=function(a,b){for(var c=a.length,d=c,e=function(){if(!(this.readyState&&this.readyState!=="complete"&&this.readyState!=="loaded")){this.onload=this.onreadystatechange=null;--d||b()}},f=document.getElementsByTagName("head")[0],g=function(a){var b=document.createElement("script");b.async=true;b.src=a;b.onload=b.onreadystatechange=e;f.appendChild(b)};c;)g(a[--c])};flex.connect=function(a,b){flex.appData=a;var c=[];c[0]=flex.api_url+"socket.io/socket.io.js";flex.loader(c,function(){flex.socket=io.connect(flex.api_url);flex.socket.on("connect",function(a){b()})})};flex.stats=function(a,b,c){flex.socket.emit("stats",{app_id:flex.appData.app_id,key:a,value:b},function(a){c(a)})}